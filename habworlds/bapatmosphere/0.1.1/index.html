<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Build-A-Planet Atmosphere</title>
    <link rel="shortcut icon" href="TemplateData/favicon.ico">
    <link rel="stylesheet" href="TemplateData/style.css">
    <script src="TemplateData/UnityProgress.js"></script>  
    <script src="Build/UnityLoader.js"></script>
    <script src="Build/UnityLoader.js"></script>
    <script>
      var gameInstance = UnityLoader.instantiate("gameContainer", "Build/0.1.1.json", {onProgress: UnityProgress});
		window.gameInstance = gameInstance;
		
		window.onresize = function()
		{
			var canvas = gameInstance.Module.canvas;
			var container = gameInstance.container;
			var w = window.innerWidth;
			var h = window.innerHeight;

			container.style.width = canvas.style.width = w + "px";
			container.style.height = canvas.style.height = h + "px";
			container.style.top = Math.floor((window.innerHeight - h)/2) + "px";
			container.style.left = Math.floor((window.innerWidth - w)/2) + "px";
		}
		
		function UnityProgress(gameInstance, progress) {
		  if (!gameInstance.Module)
			return;
		  if (!gameInstance.logo) {
			gameInstance.logo = document.createElement("div");
			gameInstance.logo.className = "logo " + gameInstance.Module.splashScreenStyle;
			gameInstance.container.appendChild(gameInstance.logo);
		  }
		  if (!gameInstance.progress) {
			gameInstance.progress = document.createElement("div");
			gameInstance.progress.className = "progress " + gameInstance.Module.splashScreenStyle;
			gameInstance.progress.textLabel = document.createTextNode("Receiving transmission.");
			gameInstance.progress.empty = document.createElement("div");
			gameInstance.progress.empty.className = "empty";
			gameInstance.progress.appendChild(gameInstance.progress.empty);
			gameInstance.progress.full = document.createElement("div");
			gameInstance.progress.full.className = "full";
			gameInstance.progress.appendChild(gameInstance.progress.full);
			gameInstance.container.appendChild(gameInstance.progress);
		  }
		  gameInstance.progress.full.style.width = (100 * progress) + "%";
		  gameInstance.progress.empty.style.width = (100 * (1 - progress)) + "%";
		  if (progress == 1)
			gameInstance.logo.style.display = gameInstance.progress.style.display = "none";
		}
    </script>
	<style>
		* {
		margin: 0;
		padding: 0;
		}

		canvas {
		width: 100%;
		height: 100%;
		position: absolute;
		}
		
		div#gameContainer{
			background: transparent!important;
			position: absolute;
		}

	</style>
  </head>

 <body onload="window.onresize();">
    <div class="webgl-content">
      <div id="gameContainer" style="width: 100%; height: 100%; position: absolute;"></div>
    </div>
  </body>
</html>